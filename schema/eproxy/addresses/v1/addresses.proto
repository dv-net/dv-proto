syntax = "proto3";
package eproxy.addresses.v1;

// Deprecated: Use v2 instead
option deprecated = true;


import "google/api/field_behavior.proto";
import "eproxy/common/v1/common.proto";

// AddressService returns wallet information and transactions
service AddressService {
  // Get returns address information by address and blockchain
  rpc Get(GetRequest) returns (GetResponse);
  // GetBalance returns balance by address, asset_identifier and blockchain
  rpc GetBalance(GetBalanceRequest) returns (GetBalanceResponse);
}

message AssetInfo {
  string asset_identifier = 1;
  string amount = 2;
  string name = 3;
  string symbol = 4;
}

message Address {
  string address = 1;
  repeated AssetInfo assets = 2;
}

// Get request
message GetRequest {
  string address = 1 [(google.api.field_behavior) = REQUIRED];
  eproxy.common.v1.Blockchain blockchain = 2 [(google.api.field_behavior) = REQUIRED];
}

message GetResponse {
  Address item = 1;
}

// Get balance
message GetBalanceRequest {
  string address = 1 [(google.api.field_behavior) = REQUIRED];
  optional string asset_identifier = 2;
  eproxy.common.v1.Blockchain blockchain = 3 [(google.api.field_behavior) = REQUIRED];
}

message GetBalanceResponse {
  string amount = 1;
}
